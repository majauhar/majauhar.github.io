{% assign lang = "en-US" %}
<!doctype html>
<html lang="{{ lang }}">
  <head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <!-- <link rel="me" href="https://micro.blog/muan"> -->
    <!-- <link rel="alternate" type="application/rss+xml" href="/notes.xml"> -->
    <!-- <link rel="apple-touch-icon" href="https://muan.co/assets/apple-touch-icon.png?v1"> -->
    <link rel="icon" href="/assets/apple-touch-icon.png?v1" type="image/png" sizes="500x500">
    <link rel="icon" href="/assets/fav.svg?v1" type="image/svg+xml" sizes="24x24">
    <!--link rel="icon" href="/assets/fav.png" type="image/png" sizes="96x96"-->
    <link href="https://fonts.googleapis.com/css2?family=Anuphan&display=swap" rel="stylesheet">
    <link href="/assets/new.css" rel="stylesheet" type="text/css">
    {% if page.collection == "posts" %}
      <link href="/assets/syntax.css" rel="stylesheet" type="text/css">
    {% endif %}
    {% if page.title %}
      <title>{{ page.title }}{% unless page.root %} @ {{ site.title }}{% endunless %}</title>
      <meta content="{{ site.title }}" property="og:site_name">
      <meta content="{{ page.title }}{% unless page.root %} @ {{ site.title }}{% endunless %}" name="twitter:title">
    {% else %}
      <title>{{ site.title }}</title>
      <meta content="{{ site.title }}" property="og:site_name">
      <meta content="{{ site.title }}" name="twitter:title">
    {% endif %}
    {% if page.collection == "posts" or page.collection == "notes" or page.collection == "stories" %}
      <meta content="article" property="og:type">
      <meta content="{{ site.url }}{{ page.url }}" property="og:url">
      <meta content="{{ page.content | strip_html | truncate: 240 }}" name="description">
      <meta content="{{ page.content | strip_html | truncate: 240 }}" name="og:description">
      <meta content="{{ page.date | date_to_xmlschema }}" name="og:published_time">
      <meta content="Mu-An Chiou" property="profile:username">
      <!-- https://developer.apple.com/documentation/technotes/tn3156-create-rich-previews-for-messages#Enable-social-network-link-previews -->
      <link href="{{ site.url }}/activitypub.json" rel="alternate" type="application/activity+json">
      {% if page.collection == "posts" or page.collection == "notes" %}
        <meta content="article" property="og:type">
        <meta content="@muanchiou" property="twitter:site">
        <meta name="twitter:card" content="summary_large_image">
      {% endif %}
      {% if page.image %}
        <meta content="https://muan.co/images/{{ page.image }}" property="og:image">
        <meta content="https://muan.co/images/{{ page.image }}" property="twitter:image">
      {% elsif page.image_text %}
        <meta content="https://muan-text-image.herokuapp.com/title?v=2&text={{ page.image_text | strip | url_encode }}" property="og:image">
        <meta content="https://muan-text-image.herokuapp.com/title?v=2&text={{ page.image_text | strip | url_encode }}" property="twitter:image">
      {% else %}
        <meta property="og:image:width" content="200">
        <meta property="og:image:height" content="200">
        <!-- <meta content="https://muan.co/assets/logo.png" property="twitter:image"> -->
        <!-- <meta content="https://muan.co/assets/logo.png" property="og:image"> -->
      {% endif %}
      
    {% else %}
      <meta content="summary" name="twitter:card">
      <meta property="og:image:width" content="200">
      <meta property="og:image:height" content="200">
      <meta content="https://muan.co/assets/logo.png" property="twitter:image">
      <meta content="https://muan.co/assets/logo.png" property="og:image">
      <meta content="{{ site.description }}" name="description">
      <meta content="website" property="og:type">
    {% endif %}
  </head>
  
  <body class="{% if page.root != true %}post-body{% endif %} col-{{ page.collection }}" data-page-type="{{ page.type }}">
    <!-- 罷免 -->
    <!-- {% if page.root %}
    <div class="recall-psa">
      {% if lang == "zh-TW" %}
      <p>
        台灣人們，請參加大罷免。如果你不知道發生了什麼事情：
      </p>

      <ul>
        <li>參考<a href="https://watchout.tw/projects/2025-big-recall">沃草的系列報導</a>（中文）。</li>
        <li>如果你想看英文，我寫了一份 <a href="https://gist.github.com/muan/0a84cf0286da578c0653b69e964d072a">英文摘要</a>。</li>
        <li>從國外連署，可以用 <a href="https://tw886.app">tw886.app</a> 查詢、列印、填寫、簽署，並寄出回台灣。作者是 <a
            href="https://github.com/CarolHsu">Carol</a>。亦可攜身分證去<a href="https://world.bafu.tw">海外連署點</a>簽寫。</li>
        <li>在台灣的連署人，可以去我架設的<a href="https://bafu.tw/">罷傅</a>罷免資訊站。</li>
      </ul>

      <p>希望你能停下來想想，讓我放上這個巨大的橫幅，背後乘載多大的的焦慮和心意。也請你把它分享給在乎台灣的人。</p>
      {% else %} -->
      <!-- <p>
        To every Taiwanese voter: please join the recall movement. If you don't know what has happened:
      </p>

      <ul>
        <li>Read <a href="https://watchout.tw/projects/2025-big-recall">watchout.tw’s feature series</a>.
        </li>
        <li>Check out <a
            href="https://gist.github.com/muan/0a84cf0286da578c0653b69e964d072a">my write-up about the recall in English</a>.</li>
        <li>Print, sign, and mail the form back to Taiwan via <a href="https://tw886.app">tw886.app</a>, built by
          <a
            href="https://github.com/CarolHsu">Carol</a> (for overseas supporters).</li>
        <li>Find a nearby signing booth in Taiwan <a href="https://bafu.tw/map">via the bafu.tw map</a> or <a
            href="https://world.bafu.tw">internationally</a>, maintained by yours truly.</li>
      </ul>

      <p>I hope you'll take a moment to understand why I cared enough to put up an intrusive banner — and share it with others who care about Taiwan, here or abroad.</p>
      {% endif %} -->
    <!-- </div> -->
    <!-- {% endif %} -->
    <header>
      <div class="logo-container">
        {% if page.root != true %}
          <a href="/{% if page.collection == "notes" %}notes{% endif %}" aria-label="Home" class="back-link">&leftarrow;</a>
        {% endif %}
        <!-- <svg class="logo" viewBox="0 0 196 169" fill="none" xmlns="http://www.w3.org/2000/svg">
          <title>安</title>
          <path d="M8 92.7061H188" stroke="#cccccc" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M53 50.3528H143" stroke="#cccccc" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M83.0002 8H113" stroke="#cccccc" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M53.3782 160.773C64.4534 151.592 86.0271 133.546 97.4226 133.546C112.866 133.546 113.373 160.773 126.168 160.773C138.963 160.773 150.185 155.479 150.185 155.479" stroke="#cccccc" stroke-width="16" stroke-linecap="round"/>
        </svg> -->
        {% if page.root != true %}
          <span class="font">Mohammad A. Jauhar</span>
        {% endif %}
      </div>
      <h1 class="h1">
        <span lang="{{lang}}">{{ page.title }}</span>
      </h1>
      {% if page.root == true %}
        <div class="desc" lang="en" data-status-loading hidden><span data-status-text></span> <time class="status-time monospace" data-status-datetime></time></div>
      {% endif %}
      {% if page.collection == "posts" %}<time class="monospace" datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%b %e, %Y" }}</time>{% endif %}
      {% if page.collection == "notes" or page.collection == "stories" %}<time class="monospace" datetime="{{ page.date }}">{{ page.date | date: "%Y/%m/%d %H:%M" }}</time>{% endif %}
      <div class="desc">{{ page.header_content }}</div>
    </header>
    <main>
      {% capture content_and_then_some do %}
        {{ content }}
      {% endcapture %}

      {% if page.collection == "posts" or page.collection == "pages" %}
        <article>
          {{ content_and_then_some }}
        </article>
      {% elsif page.collection == "notes" %}
        <div class="note-content" lang="{{ page.lang }}">{{ content_and_then_some }}</div>
        <div class="note-tags">{% for tag in page.tags %}<span class="note-tag" data-tag="{{ tag }}">{{ tag }}</span>{% endfor %}</div>
      {% else %}
        {{ content_and_then_some }}
      {% endif %}
      {% if page.feature == 1 or page.open_heart %}
        <hr class="hr">
        <div class="smol">
          <div class="monospace">
            <div id="like-prompt">Like this {% if page.collection == "posts" %}post{% elsif page.collection == "notes" %}note{% else %}page{% endif %}? let me know!</div>
            &gt;<open-heart class="text-open-heart" href="https://likes.muan.dev/?id={{ page.url }}" emoji="❤️" aria-labelledby="like-prompt">
              <span class="on">Liked.<br>(Thanks!)</span><span class="off">Sure. <kbd>⏎</kbd></span>
            </open-heart>
          </div>
        </div>
      {% endif %}
    </main>
    <footer>
      <!-- <hr class="hr">
      <nav class="monospace" aria-label="About this site">
        <a href="/accessibility-statement">{{ site.i18n[lang].accessibility }}</a>
        <hr class="inline-hr">
        <a href="https://github.com/muan/site">{{ site.i18n[lang].source }}</a>
      </nav> -->
    </footer>
    
    <script type="module" src="/assets/site.js"></script>
    {% if page.root %}
    <script type="module" src="/assets/root.js"></script>
    <script type="module" src="https://unpkg.com/open-stories-element@latest"></script>
    {% endif %}
    {% if page.feature == 1 or page.open_heart or page.has_open_heart %}
    <script type="module" src="https://unpkg.com/open-heart-element@latest"></script>
    <script>
      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(async (entry) => {
          await customElements.whenDefined('open-heart')
          if (entry.target instanceof OpenHeartElement && entry.isIntersecting) {
            entry.target.getCount()
            observer.unobserve(entry.target)
          }
        })
      })

      for (const oh of document.querySelectorAll('open-heart')) {
        observer.observe(oh)
      }
    </script>
    {% endif %}
    {% include scripts/mathjax.html %}
  </body>
</html>
